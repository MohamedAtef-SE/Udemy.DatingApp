import{a as C}from"./chunk-I3TZEFVU.js";import{a as J}from"./chunk-ZILCMOAR.js";import{a as y,b as P,e as $,f as K}from"./chunk-I5PP4UYU.js";import{$a as N,Ba as b,Da as k,Ea as j,Fa as I,Ga as V,Ha as r,Ia as a,Ja as s,N as l,Na as A,O as R,P as h,Pa as p,Qa as u,Rb as z,Ta as F,Ua as H,Ub as G,W as f,X as _,Y as M,Z as L,_a as g,ab as U,ba as T,bb as B,gb as x,ib as D,ja as E,jb as q,la as o,sb as c,xa as v,za as d}from"./chunk-R4PBEABJ.js";var S=class extends C{constructor(m){super(),this.minAge=18,this.maxAge=99,this.city=void 0,this.country=void 0,this.orderBy="lastActive",this.gender=m.gender=="female"?"male":"female"}};var w=class extends C{constructor(){super(),this.predicate="liked"}};function W(e,m){if(e&1){let i=A();r(0,"li")(1,"button",8),p("click",function(){let t=f(i).$implicit,O=u(2);return _(O.getPage(t))}),g(2),a()()}if(e&2){let i=m.$implicit,n=u(2);o(),b("active",i==n.currentPage()),o(),U(" ",i," ")}}function X(e,m){if(e&1){let i=A();r(0,"nav",0)(1,"ul",1)(2,"li")(3,"button",2),p("click",function(){f(i);let t=u();return _(t.getPage(t.currentPage()-1))}),r(4,"span",3),g(5,"Previous"),a(),M(),r(6,"svg",4),s(7,"path",5),a()()(),I(8,W,3,3,"li",null,j),L(),r(10,"li")(11,"button",6),p("click",function(){f(i);let t=u();return _(t.getPage(t.currentPage()+1))}),r(12,"span",3),g(13,"Next"),a(),M(),r(14,"svg",4),s(15,"path",7),a()()(),L(),s(16,"li"),a()()}if(e&2){let i=u();o(3),d("disabled",i.currentPage()==1),o(5),V(i.TotalPagesList()),o(3),d("disabled",i.totalPages()==i.currentPage())}}var ue=(()=>{class e{constructor(){this._MembersService=l(J),this._PaginationService=l(y),this._AccountService=l(K),this._ActivatedRoute=l(z),this._LikesService=l(P),this.paginatedResult=c(()=>this._PaginationService.paginatedResult()),this.totalPages=c(()=>this.paginatedResult()?.paginationHeader?.totalPages||1),this.pageSize=c(()=>this.paginatedResult()?.paginationHeader?.itemsPerPage||10),this.currentPage=c(()=>this.paginatedResult()?.paginationHeader?.currentPage),this.TotalPagesList=c(()=>Array.from({length:this.totalPages()},(i,n)=>n+1))}ngOnInit(){this._AccountService.CurrentUser()!==null&&(this.userParams=new S(this._AccountService.CurrentUser()),this.likesParams=new w)}getPage(i){this._ActivatedRoute.snapshot.url.toString().includes("lists")?(this.likesParams.pageNumber=i,this._LikesService.getLikes(this.likesParams),console.log("list page"),console.log(this._ActivatedRoute.snapshot.url.toString())):this._ActivatedRoute.snapshot.url.toString().includes("members")&&(this.userParams.pageNumber=i,this._MembersService.getAllMembers(this.userParams),console.log("main-page"),console.log(this._ActivatedRoute.snapshot.url.toString()))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=h({type:e,selectors:[["app-pagination"]],standalone:!0,features:[x],decls:1,vars:1,consts:[["aria-label","Page navigation example",1,"w-fit","mx-auto"],[1,"flex","items-center","-space-x-px","h-8","text-sm"],[1,"flex","disabled:text-gray-100","items-center","justify-center","px-3","h-8","ms-0","leading-tight","text-gray-500","bg-white","border","border-e-0","border-gray-300","rounded-s-lg","hover:bg-gray-100","hover:text-gray-700",3,"click","disabled"],[1,"sr-only"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 6 10",1,"w-2.5","h-2.5","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 1 1 5l4 4"],[1,"flex","disabled:text-gray-100","items-center","justify-center","px-3","h-8","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-e-lg","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click","disabled"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 9 4-4-4-4"],[1,"flex","cursor-pointer","items-center","justify-center","px-3","h-8","leading-tight","text-gray-500","bg-white","border","border-gray-300","hover:bg-gray-100","hover:text-gray-700",3,"click"]],template:function(n,t){n&1&&v(0,X,17,2,"nav",0),n&2&&k(0,t.paginatedResult()?0:-1)}})}}return e})();var Y=(e,m)=>({Introduction:e,KnownAs:m}),Z=e=>[e];function ee(e,m){e&1&&(r(0,"div",13),s(1,"i",15),a())}var ye=(()=>{class e{constructor(){this._likesServices=l(P),this._PresenceService=l($),this._PaginationsService=l(y),this.Member=T.required(),this.hasLiked=c(()=>this._likesServices.likeIds().includes(this.Member().id)),this.isOnline=c(()=>this._PresenceService.OnlineUsers().includes(this.Member().userName))}toggleLike(){this._likesServices.toggleLike(this.Member().id).subscribe({next:i=>this._likesServices.getLikeIds()})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=h({type:e,selectors:[["app-member-card"]],inputs:{Member:[R.SignalBased,"Member"]},standalone:!0,features:[x],decls:18,vars:17,consts:[[1,"card","bg-white","border","border-gray-200","rounded-lg","shadow-sm"],[1,"overflow-hidden","relative"],[1,"rounded-t-lg","w-full",3,"src","alt"],[1,"w-full","card-user-buttons","flex","flex-wrap","justify-center","items-center","gap-3"],[1,"bg-sky-500","hover:bg-sky-700","rounded-lg","cursor-pointer",3,"routerLink","queryParams"],[1,"fa-solid","fa-user","text-white","p-2","flex","items-center","justify-center"],[1,"bg-sky-500","hover:bg-sky-700","rounded-lg","cursor-pointer",3,"routerLink"],[1,"fa-solid","fa-message","text-white","p-2","flex","items-center","justify-center"],[1,"bg-sky-500","hover:bg-sky-700","rounded-lg","cursor-pointer",3,"click"],[1,"fa-solid","fa-heart","text-white","p-2","flex","items-center","justify-center"],[1,"text-center","my-2"],[1,"text-lg","my-1","font-semibold","tracking-tight","text-gray-700","dark:text-white"],[1,"fa-solid","fa-user","fa-sm"],[1,"inline"],[1,"font-semibold","text-gray-400"],[1,"fa-solid","fa-heart","text-red-500","fa-sm"]],template:function(n,t){n&1&&(r(0,"div",0)(1,"div",1),s(2,"img",2),r(3,"ul",3)(4,"li",4),s(5,"i",5),a(),r(6,"li",6),s(7,"i",7),a(),r(8,"li",8),p("click",function(){return t.toggleLike()}),s(9,"i",9),a()()(),r(10,"div",10)(11,"h5",11)(12,"span"),s(13,"i",12),a(),g(14),v(15,ee,2,0,"div",13),a(),r(16,"p",14),g(17),a()()()),n&2&&(o(2),F("src",t.Member().photoURL||"./assets/images/default.webp",E),d("alt",t.Member().knownAs),o(2),H("routerLink","/members/",t.Member().userName,"/about"),d("queryParams",q(12,Y,t.Member().introduction,t.Member().knownAs)),o(2),d("routerLink",D(15,Z,t.Member().userName+"/messages")),o(6),b("is-online",t.isOnline()),o(2),B(" ",t.Member().knownAs,", ",t.Member().age," "),o(),k(15,t.hasLiked()?15:-1),o(2),N(t.Member().city))},dependencies:[G],styles:[".card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.2);transition:.5s}.card[_ngcontent-%COMP%]:hover   .card-user-buttons[_ngcontent-%COMP%]{top:85%;transition:.5s}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:.5s}.card-user-buttons[_ngcontent-%COMP%]{position:absolute;top:150%;left:50%;transform:translate(-50%,-50%);transition:.5s}@keyframes _ngcontent-%COMP%_fa-blink{0%{opacity:1}to{opacity:.4}}.is-online[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-blink 1.5s linear infinite;color:#01bd2a}"]})}}return e})();export{S as a,w as b,ue as c,ye as d};
