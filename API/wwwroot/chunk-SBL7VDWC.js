import{a as h,b as p,c as M,d as b,e as A,f as N,i as B,j as D,k as y,l as O,m as P,q as j,r as L,t as v}from"./chunk-T4MTWN4K.js";import{a as V}from"./chunk-ZILCMOAR.js";import{c as E,f as q}from"./chunk-I5PP4UYU.js";import"./chunk-L3R4MWKK.js";import"./chunk-XAZLOLJU.js";import{$a as G,Ba as I,Ha as n,Ia as l,Ja as u,N as m,O as x,P as d,Pa as _,Qa as c,Tb as k,_a as a,aa as S,ab as g,ba as F,gb as f,la as o,ma as w,xa as R,xb as T,za as i}from"./chunk-R4PBEABJ.js";import"./chunk-5WK33CEB.js";function W(r,C){if(r&1&&(n(0,"p",3),a(1),l()),r&2){let t=c();o(),g(" ",t.label()," is required ")}}function $(r,C){if(r&1&&(n(0,"p",3),a(1),l()),r&2){let t=c();o(),g(" minimum length ",t.control.errors==null?null:t.control.errors.minlength.requiredLength," characters ")}}function J(r,C){if(r&1&&(n(0,"p",3),a(1),l()),r&2){let t=c();o(),g(" minimum length ",t.control.errors==null?null:t.control.errors.maxlength.requiredLength," characters ")}}function Q(r,C){r&1&&(n(0,"p",3),a(1," Confirm password not match "),l())}var z=(()=>{class r{constructor(t){this.ngControl=t,this.label=F.required(),this.type=F.required(),this.ngControl.valueAccessor=this}writeValue(t){}registerOnChange(t){}registerOnTouched(t){}get control(){return this.ngControl.control}static{this.\u0275fac=function(s){return new(s||r)(w(M,2))}}static{this.\u0275cmp=d({type:r,selectors:[["app-input-text"]],inputs:{label:[x.SignalBased,"label"],type:[x.SignalBased,"type"]},standalone:!0,features:[f],decls:8,vars:12,consts:[[1,"text-sm","font-light","mb-1",3,"for"],["required","",1,"bg-gray-50","border-2","placeholder:text-sm","placeholder:text-gray-300","border-gray-100","text-gray-900","text-sm","focus:outline-none","focus:border-none","rounded-lg","block","w-full","p-2.5",3,"id","formControl","type","placeholder"],["class","text-red-500 text-sm",4,"ngIf"],[1,"text-red-500","text-sm"]],template:function(s,e){s&1&&(n(0,"div")(1,"label",0),a(2),l(),u(3,"input",1),R(4,W,2,1,"p",2)(5,$,2,1,"p",2)(6,J,2,1,"p",2)(7,Q,2,0,"p",2),l()),s&2&&(o(),i("for",e.label()),o(),G(e.label()),o(),I("border-sky-500",e.ngControl.invalid&&e.ngControl.touched),i("id",e.label())("formControl",e.control)("type",e.type())("placeholder",e.label()),o(),i("ngIf",e.control.hasError("required")&&e.control.touched),o(),i("ngIf",e.control.hasError("minlength")&&e.control.touched),o(),i("ngIf",e.control.hasError("maxlength")&&e.control.touched),o(),i("ngIf",e.control.hasError("mismatch")&&e.control.touched))},dependencies:[T,v,h,b,j,y]})}}return r})();var ue=(()=>{class r{constructor(){this.RegisterFG=new N({}),this._FormBuilder=m(L),this._AccountService=m(q),this._ToastrService=m(E),this.CancelFromChild=S(),this._MemberService=m(V),this.ValidationErrors=[],this._Router=m(k)}ngOnInit(){this.initializeFormGroup()}initializeFormGroup(){this.RegisterFG=this._FormBuilder.group({gender:["male"],knownAs:[null,p.required],dateOfBirth:[null,p.required],city:[null,p.required],country:[null,p.required],username:[null,[p.required,p.minLength(4)]],password:[null,[p.required,p.minLength(6)]],confirmPassword:[null,[p.required,this.matchValues("password")]]}),this.RegisterFG.controls.password.valueChanges.subscribe({next:()=>this.RegisterFG.controls.confirmPassword.updateValueAndValidity()})}matchValues(t){return s=>s.value===s.parent?.get(t)?.value?null:{mismatch:!0}}registerSubmit(){this.RegisterFG.valid&&this._AccountService.register(this.RegisterFG.value).subscribe({next:t=>{this._ToastrService.success(`Welcome \u{1F60D} ${t.knownAs}`,"Homies"),this._MemberService.loadMember(),this._Router.navigate(["/members"])},error:t=>{this.ValidationErrors=t}})}BackToHome(){this.CancelFromChild.emit(!1)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=d({type:r,selectors:[["app-register"]],outputs:{CancelFromChild:"CancelFromChild"},standalone:!0,features:[f],decls:26,vars:22,consts:[[1,"register","w-full","relative","min-h-screen","flex","justify-center","items-center","flex-col","gap-5","p-10"],["autocomplete","off",1,"z-20","bg-white","bg-opacity-50","p-5","rounded",3,"ngSubmit","formGroup"],[1,"flex","gap-5","flex-col"],[1,"font-semibold","border-b-2","border-sky-500","pb-3","text-2xl","text-center","text-sky-500"],[1,"mb-3"],[1,"ms-2"],[1,"mx-1"],["type","radio","value","male","formControlName","gender",1,"focus:ring-0","text-sky-500"],["type","radio","value","female","formControlName","gender",1,"focus:ring-0","text-sky-500"],[3,"formControl","label","type"],["type","submit",1,"font-semibold","rounded","px-5","py-2","mx-2","bg-sky-500","hover:bg-sky-700","text-white"],["type","button",1,"font-semibold","rounded","px-5","py-2","mx-2","outline-white","outline-2","outline","hover:outline-gray-300","hover:outline","hover:text-gray-300","text-white",3,"click"]],template:function(s,e){s&1&&(n(0,"div",0)(1,"form",1),_("ngSubmit",function(){return e.registerSubmit()}),n(2,"div",2)(3,"h2",3),a(4," Sign up "),l(),n(5,"div",4)(6,"label",5),a(7,"I am a: "),l(),n(8,"label",6),u(9,"input",7),a(10," Male "),l(),n(11,"label",6),u(12,"input",8),a(13," Female "),l()(),u(14,"app-input-text",9)(15,"app-input-text",9)(16,"app-input-text",9)(17,"app-input-text",9)(18,"app-input-text",9)(19,"app-input-text",9)(20,"app-input-text",9),n(21,"div")(22,"button",10),a(23," Register "),l(),n(24,"button",11),_("click",function(){return e.BackToHome()}),a(25," Cancel "),l()()()()()),s&2&&(o(),i("formGroup",e.RegisterFG),o(13),i("formControl",e.RegisterFG.get("username"))("label","Username")("type","text"),o(),i("formControl",e.RegisterFG.get("knownAs"))("label","Known as")("type","text"),o(),i("formControl",e.RegisterFG.get("dateOfBirth"))("label","Date Of Birth")("type","date"),o(),i("formControl",e.RegisterFG.get("city"))("label","City")("type","text"),o(),i("formControl",e.RegisterFG.get("country"))("label","Country")("type","text"),o(),i("formControl",e.RegisterFG.get("password"))("label","Password")("type","password"),o(),i("formControl",e.RegisterFG.get("confirmPassword"))("label","Confirm Password")("type","password"))},dependencies:[v,B,h,D,b,A,y,O,P,z],styles:['.register[_ngcontent-%COMP%]{background-image:url("./media/register-background-2FN7LV24.jpg");background-size:cover;background-position:center}']})}}return r})();export{ue as RegisterComponent};
